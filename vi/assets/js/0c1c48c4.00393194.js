"use strict";(self.webpackChunkhasura_extra_github_io=self.webpackChunkhasura_extra_github_io||[]).push([[187],{8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},6396:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(7462),r=n(7294),o=n(2389),i=n(9443);var u=function(){var e=(0,r.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},l=n(9521),h=n(6010),s="tabItem_vU9c";function c(e){var t,n,a,o=e.lazy,i=e.block,c=e.defaultValue,d=e.values,p=e.groupId,m=e.className,v=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),b=null!=d?d:v.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),k=(0,l.lx)(b,(function(e,t){return e.value===t.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var f=null===c?c:null!=(t=null!=c?c:null==(n=v.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(a=v[0])?void 0:a.props.value;if(null!==f&&!b.some((function(e){return e.value===f})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+b.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var g=u(),y=g.tabGroupChoices,w=g.setTabGroupChoices,N=(0,r.useState)(f),T=N[0],x=N[1],C=[],_=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=p){var H=y[p];null!=H&&H!==T&&b.some((function(e){return e.value===H}))&&x(H)}var E=function(e){var t=e.currentTarget,n=C.indexOf(t),a=b[n].value;a!==T&&(_(t),x(a),null!=p&&w(p,a))},A=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=C.indexOf(e.currentTarget)+1;n=C[a]||C[0];break;case"ArrowLeft":var r=C.indexOf(e.currentTarget)-1;n=C[r]||C[C.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,h.Z)("tabs",{"tabs--block":i},m)},b.map((function(e){var t=e.value,n=e.label;return r.createElement("li",{role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,className:(0,h.Z)("tabs__item",s,{"tabs__item--active":T===t}),key:t,ref:function(e){return C.push(e)},onKeyDown:A,onFocus:E,onClick:E},null!=n?n:t)}))),o?(0,r.cloneElement)(v.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},v.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))}function d(e){var t=(0,o.Z)();return r.createElement(c,(0,a.Z)({key:String(t)},e))}},151:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return h},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return d},default:function(){return m}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=n(6396),u=n(8215),l=["components"],h={id:"webhook-authentication",title:"Webhook authentication",sidebar_label:"Webhook authentication"},s=void 0,c={unversionedId:"security/webhook-authentication",id:"security/webhook-authentication",isDocsHomePage:!1,title:"Webhook authentication",description:"Hasura s\u1ebd kh\xf4ng handle ph\u1ea7n authentication (authn) cho ch\xfang ta m\xe0 ch\u1ec9 c\u1ea5p ph\u1ea7n integration th\xf4ng qua JWT mode",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/05-security/01-webhook-authentication.mdx",sourceDirName:"05-security",slug:"/security/webhook-authentication",permalink:"/vi/security/webhook-authentication",editUrl:"https://github.com/hasura-extra/hasura-extra/edit/main/docusaurus/i18n/vi/docusaurus-plugin-content-docs/current/05-security/01-webhook-authentication.mdx",tags:[],version:"current",lastUpdatedBy:"Minh Vuong",lastUpdatedAt:1638641209,formattedLastUpdatedAt:"4/12/2021",sidebarPosition:1,frontMatter:{id:"webhook-authentication",title:"Webhook authentication",sidebar_label:"Webhook authentication"},sidebar:"main",previous:{title:"Symfony table event handling",permalink:"/vi/events/symfony-table-event-handling"},next:{title:"Session variable enhancer",permalink:"/vi/security/session-variable-enhancer"}},d=[{value:"C\u1ea5u h\xecnh webhook mode",id:"c\u1ea5u-h\xecnh-webhook-mode",children:[],level:2},{value:"<code>X-Hasura-Role</code> header",id:"x-hasura-role-header",children:[],level:2}],p={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Hasura s\u1ebd kh\xf4ng handle ph\u1ea7n authentication (authn) cho ch\xfang ta m\xe0 ch\u1ec9 c\u1ea5p ph\u1ea7n integration th\xf4ng qua ",(0,o.kt)("a",{parentName:"p",href:"https://hasura.io/docs/latest/graphql/core/auth/authentication/jwt.html"},"JWT mode"),"\nho\u1eb7c ",(0,o.kt)("a",{parentName:"p",href:"https://hasura.io/docs/latest/graphql/core/auth/authentication/webhook.html"},"Webhook mode"),"."),(0,o.kt)("p",null,"Hasura Extra cung c\u1ea5p ph\u1ea7n authn th\xf4ng qua webhook mode \u0111\u1ec3 integrate v\u1edbi Hasura, n\u1ebfu so v\u1edbi JWT mode, webhook s\u1ebd kh\xf4ng t\u1ed1i \u01b0u performance nh\u01b0ng b\xf9 l\u1ea1i b\u1ea1n c\xf3 th\u1ec3\ncung c\u1ea5p \u0111\u01b0\u1ee3c b\u1ea5t k\u1ef3 h\xecnh th\u1ee9c authn t\xf9y theo y\xeau c\u1ea7u c\u1ee7a project thay v\xec ch\u1ec9 m\u1ed7i JWT token v\xe0 ",(0,o.kt)("a",{parentName:"p",href:"/vi/security/session-variable-enhancer"},"session variables \u0111\u01b0\u1ee3c linh \u0111\u1ed9ng h\u01a1n"),"."),(0,o.kt)("h2",{id:"c\u1ea5u-h\xecnh-webhook-mode"},"C\u1ea5u h\xecnh webhook mode"),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"N\u1ebfu nh\u01b0 b\u1ea1n s\u1eed d\u1ee5ng ",(0,o.kt)("a",{parentName:"p",href:"/vi/installation/application-templates"},"Laravel ho\u1eb7c Symfony application template")," th\xec h\xe3y b\u1ecf qua t\xe0i li\u1ec7u n\xe0y v\xec template \u0111\xe3 c\u1ea5u h\xecnh gi\xfap b\u1ea1n."))),(0,o.kt)(i.Z,{defaultValue:"laravel",values:[{label:"\u0110\u1ed1i v\u1edbi Laravel users",value:"laravel"},{label:"\u0110\u1ed1i v\u1edbi Symfony users",value:"symfony"}],mdxType:"Tabs"},(0,o.kt)(u.Z,{value:"laravel",mdxType:"TabItem"},(0,o.kt)("p",null,"\u0110\u1ec3 c\u1ea5u h\xecnh webhook mode b\u1ea1n c\u1ea7n set ",(0,o.kt)("inlineCode",{parentName:"p"},"HASURA_GRAPHQL_AUTH_HOOK")," env c\u1ee7a Hasura container tr\u1ecf v\u1ec1 url path ",(0,o.kt)("inlineCode",{parentName:"p"},"/hasura-auth-hook")," v\xe0 c\u1eadp nh\u1eadt\n",(0,o.kt)("inlineCode",{parentName:"p"},"guard")," trong file config ",(0,o.kt)("inlineCode",{parentName:"p"},"config/hasura.php")," n\u1ebfu nh\u01b0 b\u1ea1n s\u1eed d\u1ee5ng multi auth guards.")),(0,o.kt)(u.Z,{value:"symfony",mdxType:"TabItem"},(0,o.kt)("p",null,"\u0110\u1ec3 c\u1ea5u h\xecnh webhook mode b\u1ea1n c\u1ea7n set ",(0,o.kt)("inlineCode",{parentName:"p"},"HASURA_GRAPHQL_AUTH_HOOK")," env c\u1ee7a Hasura container tr\u1ecf v\u1ec1 url path ",(0,o.kt)("inlineCode",{parentName:"p"},"/hasura_auth_hook"),",\nti\u1ebfp \u0111\u1ebfn l\xe0 c\u1ea5u h\xecnh Symfony ",(0,o.kt)("a",{parentName:"p",href:"https://symfony.com/doc/current/security.html#the-firewall"},"security firewall")," bao ph\u1ee7 ",(0,o.kt)("inlineCode",{parentName:"p"},"/hasura_auth_hook")," path,\nb\u1ea1n c\xf3 th\u1ec3 kham kh\u1ea3o th\xeam t\u1ea1i c\xe1ch c\u1ea5u h\xecnh ",(0,o.kt)("a",{parentName:"p",href:"/vi/security/symfony-jwt-authentication"},"JWT authentication"),"."))),(0,o.kt)("h2",{id:"x-hasura-role-header"},(0,o.kt)("inlineCode",{parentName:"h2"},"X-Hasura-Role")," header"),(0,o.kt)("p",null,"Khi client send request \u0111\u1ebfn Hasura c\xf3 th\u1ec3 g\u1eedi k\xe8m ",(0,o.kt)("inlineCode",{parentName:"p"},"X-Hasura-Role")," header \u0111\u1ec3 ch\u1ec9 \u0111\u1ecbnh role cho request, n\u1ebfu nh\u01b0 user identifier\nc\u1ee7a request KH\xd4NG s\u1edf h\u1eefu role \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh th\xec request s\u1ebd b\u1ecb ch\u1eb7n l\u1ea1i."))}m.isMDXComponent=!0}}]);