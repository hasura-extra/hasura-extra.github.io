"use strict";(self.webpackChunkhasura_extra_github_io=self.webpackChunkhasura_extra_github_io||[]).push([[96],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return u}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,m=c(e,["components","mdxType","originalType","parentName"]),d=s(n),u=o,h=d["".concat(p,".").concat(u)]||d[u]||l[u]||r;return n?a.createElement(h,i(i({ref:t},m),{},{components:n})):a.createElement(h,i({ref:t},m))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},912:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return p},metadata:function(){return s},toc:function(){return m},default:function(){return d}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),i=["components"],c={id:"with-docker-compose",title:"V\u1edbi Docker compose",sidebar_title:"V\u1edbi Docker compose"},p=void 0,s={unversionedId:"deploying/with-docker-compose",id:"deploying/with-docker-compose",isDocsHomePage:!1,title:"V\u1edbi Docker compose",description:"T\xe0i li\u1ec7u n\xe0y d\xe0nh cho c\xe1c project b\u1eaft \u0111\u1ea7u b\u1eb1ng Symfony App.",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/08-deploying/01-with-docker-compose.md",sourceDirName:"08-deploying",slug:"/deploying/with-docker-compose",permalink:"/vi/deploying/with-docker-compose",editUrl:"https://github.com/hasura-extra/hasura-extra/edit/main/docusaurus/i18n/vi/docusaurus-plugin-content-docs/current/08-deploying/01-with-docker-compose.md",tags:[],version:"current",lastUpdatedBy:"Minh Vuong",lastUpdatedAt:1637836492,formattedLastUpdatedAt:"25/11/2021",sidebarPosition:1,frontMatter:{id:"with-docker-compose",title:"V\u1edbi Docker compose",sidebar_title:"V\u1edbi Docker compose"},sidebar:"main",previous:{title:"State processor",permalink:"/vi/manage-metadata/state-processor-metadata"},next:{title:"V\u1edbi Kubernetes Helm chart",permalink:"/vi/deploying/with-kubernetes-helm-chart"}},m=[{value:"Ti\u1ebfn h\xe0nh",id:"ti\u1ebfn-h\xe0nh",children:[],level:2}],l={toc:m};function d(e){var t=e.components,n=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"T\xe0i li\u1ec7u n\xe0y d\xe0nh cho c\xe1c project b\u1eaft \u0111\u1ea7u b\u1eb1ng ",(0,r.kt)("a",{parentName:"p",href:"/vi/installation/symfony-app"},"Symfony App"),"."))),(0,r.kt)("h2",{id:"ti\u1ebfn-h\xe0nh"},"Ti\u1ebfn h\xe0nh"),(0,r.kt)("p",null,"\u0110\u1ea7u ti\xean b\u1ea1n h\xe3y s\u1eed d\u1ee5ng ",(0,r.kt)("inlineCode",{parentName:"p"},"git clone"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"scp")," ho\u1eb7c b\u1ea5t k\u1ef3 tools n\xe0o b\u1ea1n hay s\u1eed d\u1ee5ng \u0111\u1ec3 \u0111\u01b0a source l\xean tr\xean m\xe1y ch\u1ee7, sau \u0111\xf3 \u0111i v\xe0o\nth\u01b0 m\u1ee5c ch\u1ee9a source m\xe0 b\u1ea1n v\u1eeba \u0111\u01b0a l\xean v\xe0 start project v\u1edbi t\u1eadp l\u1ec7nh sau:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'APP_SECRET=ChangeMe \\\nHASURA_ADMIN_SECRET=ChangeMe \\\nPOSTGRES_PASSWORD=ChangeMe \\\nAPP_HASURA_SECRET=ChangeMe \\\nAPP_HASURA_BASIC_AUTH="$(printf hasura:${APP_HASURA_SECRET} | base64 -)" \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml up -d\n')),(0,r.kt)("p",null,"\u0110\u1ee3i v\xe0i gi\xe2y, ti\u1ebfp \u0111\u1ebfn l\xe0 ch\u1ea1y database migrations v\xe0 ",(0,r.kt)("a",{parentName:"p",href:"/vi/manage-metadata/apply-metadata"},"apply Hasura metadata"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php bin/console doctrine:migrations:migrate --allow-no-migration --no-interaction; \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php bin/console hasura:metadata:reload; \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php bin/console hasura:metadata:apply;\n")),(0,r.kt)("p",null,"V\u1eady l\xe0 b\u1ea1n \u0111\xe3 deploy th\xe0nh c\xf4ng project v\u1edbi Docker compose r\u1ed3i \u0111\u1ea5y."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u0110\u1ed1i v\u1edbi m\xf4i tr\u01b0\u1eddng production, Apache v\xe0 Postgres containers s\u1ebd kh\xf4ng publish port ch\u1ec9 c\xf2n Hasura publish tr\xean port 80. "))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u0110\u1ec3 c\u1ea5u h\xecnh HTTPS b\u1ea1n h\xe3y kham kh\u1ea3o th\xeam t\u1ea1i ",(0,r.kt)("a",{parentName:"p",href:"https://hasura.io/docs/latest/graphql/core/deployment/enable-https.html"},"\u0111\xe2y"),". "))))}d.isMDXComponent=!0}}]);