"use strict";(self.webpackChunkhasura_extra_github_io=self.webpackChunkhasura_extra_github_io||[]).push([[188],{8215:function(e,a,n){var t=n(7294);a.Z=function(e){var a=e.children,n=e.hidden,o=e.className;return t.createElement("div",{role:"tabpanel",hidden:n,className:o},a)}},6396:function(e,a,n){n.d(a,{Z:function(){return d}});var t=n(7462),o=n(7294),r=n(2389),i=n(9443);var l=function(){var e=(0,o.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},c=n(9521),s=n(6010),p="tabItem_vU9c";function m(e){var a,n,t,r=e.lazy,i=e.block,m=e.defaultValue,d=e.values,u=e.groupId,h=e.className,v=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=d?d:v.map((function(e){var a=e.props;return{value:a.value,label:a.label}})),f=(0,c.lx)(k,(function(e,a){return e.value===a.value}));if(f.length>0)throw new Error('Docusaurus error: Duplicate values "'+f.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===m?m:null!=(a=null!=m?m:null==(n=v.find((function(e){return e.props.default})))?void 0:n.props.value)?a:null==(t=v[0])?void 0:t.props.value;if(null!==g&&!k.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+k.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=l(),b=y.tabGroupChoices,N=y.setTabGroupChoices,A=(0,o.useState)(g),w=A[0],_=A[1],T=[],C=(0,c.o5)().blockElementScrollPositionUntilNextRender;if(null!=u){var E=b[u];null!=E&&E!==w&&k.some((function(e){return e.value===E}))&&_(E)}var S=function(e){var a=e.currentTarget,n=T.indexOf(a),t=k[n].value;t!==w&&(C(a),_(t),null!=u&&N(u,t))},M=function(e){var a,n=null;switch(e.key){case"ArrowRight":var t=T.indexOf(e.currentTarget)+1;n=T[t]||T[0];break;case"ArrowLeft":var o=T.indexOf(e.currentTarget)-1;n=T[o]||T[T.length-1]}null==(a=n)||a.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":i},h)},k.map((function(e){var a=e.value,n=e.label;return o.createElement("li",{role:"tab",tabIndex:w===a?0:-1,"aria-selected":w===a,className:(0,s.Z)("tabs__item",p,{"tabs__item--active":w===a}),key:a,ref:function(e){return T.push(e)},onKeyDown:M,onFocus:S,onClick:S},null!=n?n:a)}))),r?(0,o.cloneElement)(v.filter((function(e){return e.props.value===w}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},v.map((function(e,a){return(0,o.cloneElement)(e,{key:a,hidden:e.props.value!==w})}))))}function d(e){var a=(0,r.Z)();return o.createElement(m,(0,t.Z)({key:String(a)},e))}},1440:function(e,a,n){n.r(a),n.d(a,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return m},toc:function(){return d},default:function(){return h}});var t=n(7462),o=n(3366),r=(n(7294),n(3905)),i=n(6396),l=n(8215),c=["components"],s={id:"with-docker-compose",title:"V\u1edbi Docker compose",sidebar_label:"V\u1edbi Docker compose"},p=void 0,m={unversionedId:"deploying/with-docker-compose",id:"deploying/with-docker-compose",isDocsHomePage:!1,title:"V\u1edbi Docker compose",description:"T\xe0i li\u1ec7u n\xe0y ch\u1ec9 d\xe0nh cho c\xe1c project b\u1eaft \u0111\u1ea7u b\u1eb1ng c\xe1c application templates.",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/08-deploying/01-with-docker-compose.mdx",sourceDirName:"08-deploying",slug:"/deploying/with-docker-compose",permalink:"/vi/deploying/with-docker-compose",editUrl:"https://github.com/hasura-extra/hasura-extra/edit/main/docusaurus/i18n/vi/docusaurus-plugin-content-docs/current/08-deploying/01-with-docker-compose.mdx",tags:[],version:"current",lastUpdatedBy:"Minh Vuong",lastUpdatedAt:1638641209,formattedLastUpdatedAt:"4/12/2021",sidebarPosition:1,frontMatter:{id:"with-docker-compose",title:"V\u1edbi Docker compose",sidebar_label:"V\u1edbi Docker compose"},sidebar:"main",previous:{title:"State processor",permalink:"/vi/manage-metadata/state-processor-metadata"},next:{title:"V\u1edbi Kubernetes Helm chart",permalink:"/vi/deploying/with-kubernetes-helm-chart"}},d=[{value:"Ti\u1ebfn h\xe0nh",id:"ti\u1ebfn-h\xe0nh",children:[],level:2}],u={toc:d};function h(e){var a=e.components,n=(0,o.Z)(e,c);return(0,r.kt)("wrapper",(0,t.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"T\xe0i li\u1ec7u n\xe0y ch\u1ec9 d\xe0nh cho c\xe1c project b\u1eaft \u0111\u1ea7u b\u1eb1ng c\xe1c ",(0,r.kt)("a",{parentName:"p",href:"/vi/installation/application-templates"},"application templates"),"."))),(0,r.kt)("h2",{id:"ti\u1ebfn-h\xe0nh"},"Ti\u1ebfn h\xe0nh"),(0,r.kt)("p",null,"\u0110\u1ea7u ti\xean b\u1ea1n h\xe3y s\u1eed d\u1ee5ng ",(0,r.kt)("inlineCode",{parentName:"p"},"git clone"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"scp")," ho\u1eb7c b\u1ea5t k\u1ef3 tools n\xe0o b\u1ea1n hay s\u1eed d\u1ee5ng \u0111\u1ec3 \u0111\u01b0a source l\xean tr\xean m\xe1y ch\u1ee7, sau \u0111\xf3 \u0111i v\xe0o\nth\u01b0 m\u1ee5c ch\u1ee9a source m\xe0 b\u1ea1n v\u1eeba \u0111\u01b0a l\xean v\xe0 start project v\u1edbi c\xe1c t\u1eadp l\u1ec7nh sau:"),(0,r.kt)(i.Z,{defaultValue:"laravel",values:[{label:"\u0110\u1ed1i v\u1edbi Laravel users",value:"laravel"},{label:"\u0110\u1ed1i v\u1edbi Symfony users",value:"symfony"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"laravel",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'APP_KEY=ChangeMe \\\nHASURA_ADMIN_SECRET=ChangeMe \\\nPOSTGRES_PASSWORD=ChangeMe \\\nAPP_HASURA_SECRET=ChangeMe \\\nAPP_HASURA_BASIC_AUTH="$(printf hasura:${APP_HASURA_SECRET} | base64 -)" \\\nMAIL_HOST=ChangeMe \\\nMAIL_PORT=ChangeMe \\\nMAIL_USERNAME=ChangeMe \\\nMAIL_PASSWORD=ChangeMe \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml up -d\n')),(0,r.kt)("p",null,"\u0110\u1ee3i v\xe0i gi\xe2y, ti\u1ebfp \u0111\u1ebfn l\xe0 ch\u1ea1y database migrations v\xe0 ",(0,r.kt)("a",{parentName:"p",href:"/vi/manage-metadata/apply-metadata"},"apply Hasura metadata"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php artisan migrate --force --no-interaction; \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php artisan hasura:metadata:reload; \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php artisan hasura:metadata:apply;\n")),(0,r.kt)("p",null,"V\u1eady l\xe0 b\u1ea1n \u0111\xe3 deploy th\xe0nh c\xf4ng project v\u1edbi Docker compose r\u1ed3i \u0111\u1ea5y.")),(0,r.kt)(l.Z,{value:"symfony",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'APP_SECRET=ChangeMe \\\nHASURA_ADMIN_SECRET=ChangeMe \\\nPOSTGRES_PASSWORD=ChangeMe \\\nAPP_HASURA_SECRET=ChangeMe \\\nAPP_HASURA_BASIC_AUTH="$(printf hasura:${APP_HASURA_SECRET} | base64 -)" \\\nJWT_SECRET_KEY=ChangeMe \\\nJWT_PUBLIC_KEY=ChangeMe \\\nMAILER_DSN=ChangeMe \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml up -d\n')),(0,r.kt)("p",null,"\u0110\u1ee3i v\xe0i gi\xe2y, ti\u1ebfp \u0111\u1ebfn l\xe0 ch\u1ea1y database migrations v\xe0 ",(0,r.kt)("a",{parentName:"p",href:"/vi/manage-metadata/apply-metadata"},"apply Hasura metadata"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php bin/console doctrine:migrations:migrate --allow-no-migration --no-interaction; \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php bin/console hasura:metadata:reload; \\\ndocker-compose -f docker-compose.yaml -f docker-compose.prod.yaml exec apache php bin/console hasura:metadata:apply;\n")),(0,r.kt)("p",null,"V\u1eady l\xe0 b\u1ea1n \u0111\xe3 deploy th\xe0nh c\xf4ng project v\u1edbi Docker compose r\u1ed3i \u0111\u1ea5y."))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u0110\u1ed1i v\u1edbi m\xf4i tr\u01b0\u1eddng production, Apache v\xe0 Postgres containers s\u1ebd kh\xf4ng publish port ch\u1ec9 c\xf2n Hasura publish tr\xean port 80. "))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u0110\u1ec3 c\u1ea5u h\xecnh HTTPS b\u1ea1n h\xe3y kham kh\u1ea3o th\xeam t\u1ea1i ",(0,r.kt)("a",{parentName:"p",href:"https://hasura.io/docs/latest/graphql/core/deployment/enable-https.html"},"\u0111\xe2y"),". "))))}h.isMDXComponent=!0}}]);