"use strict";(self.webpackChunkhasura_extra_github_io=self.webpackChunkhasura_extra_github_io||[]).push([[836],{579:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return v},metadata:function(){return d},toc:function(){return o},default:function(){return p}});var n=a(7462),i=a(3366),r=(a(7294),a(3905)),s=["components"],l={id:"table-event",title:"Table event",sidebar_label:"Table event"},v=void 0,d={unversionedId:"events/table-event",id:"events/table-event",isDocsHomePage:!1,title:"Table event",description:"Hasura Extra s\u1ebd dispatch table events triggered b\u1edfi Hasura",source:"@site/i18n/vi/docusaurus-plugin-content-docs/current/04-events/01-table-event.md",sourceDirName:"04-events",slug:"/events/table-event",permalink:"/vi/events/table-event",editUrl:"https://github.com/hasura-extra/hasura-extra/edit/main/docusaurus/i18n/vi/docusaurus-plugin-content-docs/current/04-events/01-table-event.md",tags:[],version:"current",lastUpdatedBy:"Minh Vuong",lastUpdatedAt:1638641209,formattedLastUpdatedAt:"4/12/2021",sidebarPosition:1,frontMatter:{id:"table-event",title:"Table event",sidebar_label:"Table event"},sidebar:"main",previous:{title:"Persist state",permalink:"/vi/handle-business-logic/graphql-server/graphqlite-persist-state"},next:{title:"Laravel table event handling",permalink:"/vi/events/laravel-table-event-handling"}},o=[{value:"Th\xeam event trigger t\u1ea1i Hasura",id:"add-event-trigger",children:[],level:2},{value:"Handling event",id:"handling-event",children:[],level:2}],h={toc:o};function p(e){var t=e.components,a=(0,i.Z)(e,s);return(0,r.kt)("wrapper",(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Hasura Extra s\u1ebd dispatch ",(0,r.kt)("a",{parentName:"p",href:"https://hasura.io/docs/latest/graphql/core/event-triggers/index.html"},"table events triggered")," b\u1edfi Hasura\nth\xf4ng qua ",(0,r.kt)("a",{parentName:"p",href:"https://www.php-fig.org/psr/psr-14/"},"PSR-14")," event dispatcher."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Kh\xe1c v\u1edbi Doctrine ORM v\xe0 Eloquent events, Hasura table event s\u1ebd \u0111\u01b0\u1ee3c dispatch async th\xf4ng qua webhook request kh\xf4ng \xe3nh h\u01b0\u1edfng \u0111\u1ebfn\nresponse time c\u1ee7a request m\xe0 end-user g\u1ecdi \u0111\u1ebfn. Cho n\xean b\u1ea1n ho\xe0n to\xe0n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng n\xf3 thay th\u1ebf cho m\u1ed9t s\u1ed1 tr\u01b0\u1eddng h\u1ee3p ph\u1ea3i s\u1eed d\u1ee5ng message queue nh\u01b0 send mail hay call first/third parties."),(0,r.kt)("p",{parentName:"div"},"Hasura table event triggered l\xe0 m\u1ed9t n\u1ec1n t\u1ea3ng ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Change_data_capture"},"change data capture")," cho n\xean b\u1ea5t k\u1ef3\napplication n\xe0o (v\xed d\u1ee5 NodeJS app) t\u01b0\u01a1ng t\xe1c v\u1edbi database rows c\u1ee7a b\u1ea1n \u0111\u1ec1u \u0111\u01b0\u1ee3c trigger events."))),(0,r.kt)("h2",{id:"add-event-trigger"},"Th\xeam event trigger t\u1ea1i Hasura"),(0,r.kt)("p",null,"H\u01b0\u1edbng d\u1eabn c\xe1ch th\xeam event trigger tr\xean Hasura b\u1ea1n c\xf3 th\u1ec3 xem t\u1ea1i ",(0,r.kt)("a",{parentName:"p",href:"https://hasura.io/docs/latest/graphql/core/event-triggers/create-trigger.html"},"\u0111\xe2y"),"."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Khi c\xe0i Laravel package url path \u0111\u1ec3 handle table event s\u1ebd l\xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"/hasura-table-event")," c\xf2n \u0111\u1ed1i v\u1edbi\nSymfony bundle url path s\u1ebd l\xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"/hasura_table_event"),"."))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"N\u1ebfu nh\u01b0 b\u1ea1n s\u1eed d\u1ee5ng ",(0,r.kt)("a",{parentName:"p",href:"/vi/installation/application-templates"},"Laravel ho\u1eb7c Symfony application template")," th\xec h\xe3y s\u1eed d\u1ee5ng value ",(0,r.kt)("inlineCode",{parentName:"p"},"{{APP_BASE_URI}}/hasura-table-event")," \u0111\u1ed1i v\u1edbi Laravel v\xe0\n",(0,r.kt)("inlineCode",{parentName:"p"},"{{APP_BASE_URI}}/hasura_table_event")," \u0111\u1ed1i v\u1edbi Symfony \u0111\u1ec3 l\xe0m webhook url m\u1ed7i khi th\xeam event trigger."))),(0,r.kt)("h2",{id:"handling-event"},"Handling event"),(0,r.kt)("p",null,"Sau khi ",(0,r.kt)("a",{parentName:"p",href:"#add-event-trigger"},"th\xeam event trigger")," b\u1ea1n c\u1ea7n th\xeam event listener/subscriber \u0111\u1ec3 l\u1eafng nghe s\u1ef1 ki\u1ec7n m\xe0 Hasura g\u1ecdi v\xe0o:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/vi/events/laravel-table-event-handling"},"Laravel table event handling")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/vi/events/symfony-table-event-handling"},"Symfony table event handling"))))}p.isMDXComponent=!0}}]);